
#
# $Id$
#
# Global Makefiles configuration for the GNOKII.
#
# Copyright (C) 1999 Hugh Blemings & Pavel Janík ml.
#               2000 Karel Zak
#

VERSION        = @VERSION@

SHELL          = @SHELL@

PACKAGE        = gnokii

top_builddir   = $(TOPDIR)
srcdir         = @srcdir@
prefix         = @prefix@
exec_prefix    = @exec_prefix@

bindir         = @bindir@
sbindir        = @sbindir@
xbindir        = @XGNOKIIDIR@/bin/
libdir         = @libdir@
xgnokii_libdir = @XGNOKIIDIR@/share/@XPACKAGE@
includedir     = @includedir@
mandir         = @mandir@
man1dir        = ${mandir}/man1/
man8dir        = ${mandir}/man8/
xmandir        = @XGNOKIIDIR@/man/man1/
docdir         = ${prefix}/share/doc/${PACKAGE}
locdir         = @datadir@/locale
datadir        = @datadir@

BIN_MODE       = 0755
TEXT_MODE      = 0444

INSTALL        = @INSTALL@
INSTALL_DATA   = @INSTALL_DATA@
RM             = @RM@ -f
FIND           = @FIND@
MAKE           = @MAKE@
XGETTEXT       = @XGETTEXT@
MSGFMT         = @MSGFMT@

CC             = @CC@
CFLAGS         = -fno-strict-aliasing @CFLAGS@
CPPFLAGS       = @CPPFLAGS@
LIBS           = @LIBS@
LDFLAGS        = @LDFLAGS@
LEX            = @LEX@
AR             = @AR@
RANLIB         = @RANLIB@
LIBTOOL        = @LIBTOOL@

GTK_CFLAGS     = @GTK_CFLAGS@
GTK_LIBS       = @GTK_LIBS@
PTHREAD_CFLAGS = @PTHREAD_CFLAGS@
PTHREAD_LIBS   = @PTHREAD_LIBS@
XPM_LIBS       = @XPM_LIBS@
XPM_CFLAGS     = @XPM_CFLAGS@
OWN_GETOPT     = @OWN_GETOPT@
INTL_LIBS      = @INTLLIBS@
ICONV_LIBS     = @LIBICONV@
NEED_LCHARSET  = @NEED_LOCALE_CHARSET@

LIBPCSCLITE_CFLAGS = @LIBPCSCLITE_CFLAGS@
LIBPCSCLITE_LIBS   = @LIBPCSCLITE_LIBS@

HAVE_XGNOKII   = @HAVE_XGNOKII@
WIN32          = @WIN32@
WIN32_CROSS    = @WIN32_CROSS@

HAVE_LIBICAL   = @HAVE_LIBICAL@

DESTDIR        =

ifeq (@USE_INCLUDED_LIBINTL@, yes)
	CFLAGS += -I$(TOPDIR)/intl
endif

#
# Global include directory
#	($TOPDIR is defined in Makefile)
#
GNOKII_INCLUDE = $(TOPDIR)/include

#
# Win32 option
#
ifdef WIN32
	WIN32 += -I$(TOPDIR)/win32
endif


CFLAGS += -I$(GNOKII_INCLUDE) $(XPM_CFLAGS)
LDLIBS = $(LIBS) $(ICONV_LIBS) $(INTL_LIBS) $(XPM_LIBS)

%.lo: %.c
	$(LIBTOOL) --mode=compile $(CC) $(CFLAGS) $(CPPFLAGS) -o $@ -c $<
